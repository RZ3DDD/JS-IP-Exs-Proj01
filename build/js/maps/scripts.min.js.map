{"version":3,"sources":["scripts.js"],"names":["count","numberOfFilms","objMyDB","personalMovieDB","movies","actors","genres","privat","question","answer","getNumberAnswer","isNaN","alert","concat","getNonEmptyAnswer","maxAnswerLength","prompt","str","sourceStr","trim","destStr","nextChar","simpleSpaceSaved","normalizationOfSpaces","i","length","_typeof","score","film","nextFilm","writeYourMovieScores","writeYourGenres","console","log"],"mappings":"kPAmBA,IAsBQA,EAQAC,EApBJC,EAVAC,GAsBIH,EADkB,CAElBI,MAFkB,EAGlBC,OAHkB,GAIlBC,OAJkB,GAKlBC,OAAQ,GALZA,QAAA,GAUS,KADLN,EA8CR,SAAyBO,GAFxB,IAAAC,EAAA,EAKG,KAHJA,GAASC,OAAgBF,EAAU,IAC/B,IAAAC,GAAA,MAAAA,GAAAE,MAAAF,KAKA,OAAOA,EApDeC,CAAG,wCAErBE,MAAO,cAAAC,OAAPZ,EAAO,oDACJ,IAIHE,EApBJ,EAoBIS,MAAA,sCACOT,GArBX,EAqBIS,MAAA,4BACHA,MAAA,eACJT,EAAAH,MAAAC,EAFcE,IA4Bf,SAASW,EAAkBN,EAAUO,GAGjC,IAFA,IAAAN,EAAA,GAI0B,iBAHtBA,EAAJO,OAAAR,EAAA,OAGoCC,EAQpC,SAAGQ,GAAH,IAAAC,EAEeD,EAANE,OAOLC,EAAU,GANdC,EAAA,GACHC,GAAA,EAED,CAAA,GAAAJ,EAASK,OAAAA,CACL,IAAA,IAAAC,EAAA,EAAAA,EAAAN,EAAAO,OAAAD,IAAA,CACIN,GAAJ,OAOQG,EAAWH,EAAUM,IAP7B,CACc,GADdF,EAAA,SAAAA,GAAA,OAAAA,EAGoBA,IAHpB,EAYQF,GAAoBC,EANxB,OAAUD,EACNC,OAAWH,GAvB0BK,CAAsBd,KAFhEA,GAAAA,EAAAgB,OAAAV,IACCN,OAAMA,EApEV,UAAAiB,EAAAvB,IA0CA,SAAAA,GACA,IAEIwB,EAFJxB,EAAAH,MACI4B,EAAO,GAGXD,EAAOE,GAEHF,KAAKE,GACL1B,EAAAA,EAAA,0DAPJ,IAQI0B,EAAQf,EAAA,0BAAA,GACXX,EAAAC,OAAAwB,GAAAD,EADGE,IAlDJC,CAAqB3B,GAwDrB,SAAAG,GACA,IAAK,IAAKkB,EAAV,EAAiBA,EAAjB,EAAwBA,IACpBlB,EAAAkB,GAAYV,EAAiB,uBAAAD,OAAAW,EAAA,EAAA,WAAA,IAzDjCO,CAAgB5B,EAAgBG,SAMhCJ,EAHSC,GAIII,QAAQyB,QAAQC,IAAI/B,IAJ9BU,MAAM","file":"../scripts.min.js","sourcesContent":["\n\n/* jshint esversion: 6 */\r\n\r\n/* Задание на урок:\r\n\r\n1) Первую часть задания повторить по уроку\r\n\r\n2) Создать функцию showMyDB, которая будет проверять свойство privat. Если стоит в позиции\r\nfalse - выводит в консоль главный объект программы\r\n\r\n3) Создать функцию writeYourGenres в которой пользователь будет 3 раза отвечать на вопрос \r\n\"Ваш любимый жанр под номером ${номер по порядку}\". Каждый ответ записывается в массив данных\r\ngenres\r\n\r\nP.S. Функции вызывать не обязательно*/\r\n\r\n// Код возьмите из предыдущего домашнего задания\r\n\r\nlet personalMovieDB = startOfMovieRating();\r\n\r\nif (typeof personalMovieDB == \"object\") {\r\n    writeYourMovieScores(personalMovieDB);\r\n    writeYourGenres(personalMovieDB.genres);\r\n\r\n    showMyDB(personalMovieDB);\r\n} else alert(\"Error!\");\r\n\r\nfunction showMyDB(objMyDB) {\r\n    'use strict';\r\n    if (!objMyDB.privat) console.log(objMyDB);\r\n    return;\r\n}\r\n\r\nfunction startOfMovieRating() {\r\n    'use strict';\r\n    const\r\n        minFilmsClassicViewer = 3,\r\n        maxFilmsClassicViewer = 7;\r\n\r\n    let personalMovieDB = {\r\n        count: 0,\r\n        movies: {},\r\n        actors: {},\r\n        genres: [],\r\n        privat: false,\r\n    };\r\n\r\n    let numberOfFilms = getNumberAnswer(\"Сколько фильмов Вы уже посмотрели?\");\r\n    if (numberOfFilms === 0) {\r\n        alert(`Ваш ответ: ${numberOfFilms} \\n Вы не можете участвовать в оценке фильмов!`);\r\n        return false;\r\n    } else {\r\n        if (numberOfFilms < minFilmsClassicViewer) alert(\"Просмотрено довольно мало фильмов.\");\r\n        else if (numberOfFilms <= maxFilmsClassicViewer) alert(\"Вы классический зритель.\");\r\n        else alert(\"Вы киноман!\");\r\n        personalMovieDB.count = numberOfFilms;\r\n        return personalMovieDB;\r\n    }\r\n}\r\n\r\nfunction writeYourMovieScores(personalMovieDB) {\r\n    'use strict';\r\n    const maxFilmNameLength = 50;\r\n    let nextFilm = personalMovieDB.count,\r\n        film = \"\",\r\n        score = \"\";\r\n\r\n    while (nextFilm) {\r\n        film = getNonEmptyAnswer('Название следующего из последних просмотренных фильмов?', maxFilmNameLength);\r\n        score = getNonEmptyAnswer('На сколько оцените его?', 3);\r\n        personalMovieDB.movies[film] = score;\r\n        nextFilm--;\r\n    }\r\n    return;\r\n}\r\n\r\nfunction writeYourGenres(genres) {\r\n    'use strict';\r\n    for (let i = 0; i < 3; i++) {\r\n        genres[i] = getNonEmptyAnswer(`Ваш любимый жанр на ${i+1} месте?`, 24);\r\n    }\r\n    return;\r\n}\r\n\r\nfunction getNonEmptyAnswer(question, maxAnswerLength) {\r\n    'use strict';\r\n    let answer = \"\";\r\n    do {\r\n        answer = prompt(question, '');\r\n        if (typeof answer === \"string\") answer = normalizationOfSpaces(answer);\r\n    } while (!answer || answer.length > maxAnswerLength);\r\n    return answer;\r\n}\r\n\r\nfunction getNumberAnswer(question) {\r\n    'use strict';\r\n    let answer = 0;\r\n    do {\r\n        answer = +prompt(question, '');\r\n    } while (answer == \"\" || answer == null || isNaN(answer));\r\n    return answer;\r\n}\r\n\r\nfunction normalizationOfSpaces(str) {\r\n    'use strict';\r\n    let sourceStr = str.trim(),\r\n        destStr = \"\",\r\n        nextChar = \"\",\r\n        simpleSpaceSaved = false;\r\n\r\n    if (sourceStr.length) {\r\n        for (let i = 0; i < sourceStr.length; i++) {\r\n            nextChar = sourceStr[i];\r\n            if (nextChar === \" \") {\r\n                if (simpleSpaceSaved) continue;\r\n                else simpleSpaceSaved = true;\r\n            } else if (simpleSpaceSaved) simpleSpaceSaved = false;\r\n            destStr = destStr + nextChar;\r\n        }\r\n        return destStr;\r\n    } else return sourceStr;\r\n}"]}