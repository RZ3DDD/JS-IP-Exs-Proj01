{"version":3,"sources":["scripts.js"],"names":["actors","personalMovieDB","genres","privat","showMovieDB","toggleVisibleMyDB","this","log","film","writeMovieScores","getNumberAnswer","count","movies","score","nextFilm","getNonEmptyAnswer","writeGenres","i","numberOfFilms","concat","alert","maxAnswerLength","answer","question","prompt","str","simpleSpaceSaved","trim","destStr","sourceStr","length","nextChar","normalizationOfSpaces","defaultNumber","isNaN","_typeof","forEach","item","index","console"],"mappings":"kPAaA,IAyBQA,EA6CAC,EAtERA,GAyBQD,EAHkB,CAIlBE,MAJkB,EAKlBC,OAAQ,GAERC,OAPkB,GAQdF,OAAUC,GACVA,QAAA,EAGJE,YAZkB,WAadC,KAAeH,QAAKA,QAApBI,IAAAD,OAKAD,kBAlBc,WAmBVG,KAAOL,QADXG,KAAAH,QAIAM,iBAtBc,WAsBd,IACQ,IACIC,EAAAA,KAAgBC,MACnBC,EAAOJ,GACJK,EAAA,GAJLC,GAMPN,EAAAO,EAAA,0DAL6B,IAvBfF,EAAAH,EAAA,0BAAA,GAAAJ,KAAAM,OAAAJ,GAAAK,EAgCJC,KAIbE,YApCiB,WAAtB,IAAA,IAAAC,EAAA,EAAAA,EAAA,EAAAA,IAwCIC,KAAahB,OAAGQ,GAAAA,EAAgB,uBAAAS,OAADF,EAAuC,EAAtC,WAApC,MASI,KADAhB,EAAgBU,EAAQO,qCAAxB,KAEHE,MAAA,cAAAD,OAAAD,EAAA,oDACJ,IAIQH,EAvDiB,EAuDWM,MAAiB,sCAClDH,GAxDsB,EAwDtBE,MAAA,4BATSA,MAAM,eAUXE,EAAJX,MAAAO,EARWjB,IAaX,SAAOqB,EAAPC,EAAAF,GAGJ,IARI,IAAIC,EAAS,GAGa,iBAM1BA,EAAAE,OAAAD,EAAA,OANoCD,EAgBpC,SAAAG,GAAA,IAGIC,EAAAA,EAAgBC,OAFhBC,EAAU,GAIVC,EAAUC,GACVJ,GAAoBG,EADxB,CAAA,GAAIA,EAAUC,OAAQ,CAGd,IAAIC,IAAAA,EAAQ,EAAKd,EAAKY,EAAAC,OAAAb,IAAA,CAAtB,GAGWS,OAFHA,EAAAA,EAAkBT,IAEnB,CAFH,GAAIS,EAAkB,SAGhBE,GAAV,OACHF,EAAAA,IAAA,EADGE,GAAoBG,EAP5B,OAUOH,EACV,OAAAC,GAhCgDG,CAAsBV,KAOzDA,GAAVA,EAAAQ,OAAAT,IALA,OAAOC,EAQN,SAFDZ,EAESa,EAAsBU,GAElC,IADG,IAAAX,EAAA,EAGKU,KALDV,GAAUE,OAAOD,EAAUU,KAKC,MAA3BD,GAA2BE,MAAAZ,KAChC,OAAAA,EA7F0B,UAA1Ba,EAAOlC,IAAPA,EAAOA,mBACPA,EAAgBQ,cAGhBR,EAAgBC,OAAOkC,QAAQ,SAAAC,EAAAC,GAC3BC,QAAAhC,IAAAgC,iBAAAA,OAAAD,EAAA,EAAAC,WAAAA,OAAAF,MALRpC,EASaG,eAANgB,MAAM","file":"../scripts.min.js","sourcesContent":["\n\n/* jshint esversion: 6 */\r\n\r\n/* Задание на урок: 1) У нас уже есть рабочее приложение, состоящее из отдельных функций. Представьте, что\r\nперед вами стоит задача переписать его так, чтобы все функции стали методами объекта personalMovieDB\r\nТакое случается в реальных продуктах при смене технологий или подхода к архитектуре программы\r\n2) Создать метод toggleVisibleMyDB, который при вызове будет проверять свойство privat. Если оно false - он\r\nпереключает его в true, если true - переключает в false. Протестировать вместе с showMyDB.\r\n3) В методе writeYourGenres запретить пользователю нажать кнопку \"отмена\" или оставлять пустую строку. \r\nЕсли он это сделал - возвращать его к этому же вопросу. После того, как все жанры введены - \r\nпри помощи метода forEach вывести в консоль сообщения в таком виде:\r\n\"Любимый жанр #(номер по порядку, начиная с 1) - это (название из массива)\"*/\r\n// Код возьмите из предыдущего домашнего задания\r\n\r\nlet personalMovieDB = startOfMovieRating();\r\n\r\nif (typeof personalMovieDB == \"object\") {\r\n    personalMovieDB.writeMovieScores();\r\n    personalMovieDB.writeGenres();\r\n\r\n    personalMovieDB.genres.forEach((item, index) => {\r\n        console.log(`Любимый жанр №${index+1} это - ${item}`);\r\n    });\r\n\r\n    personalMovieDB.showMovieDB();\r\n} else alert(\"Error!\");\r\n\r\n\r\nfunction startOfMovieRating() {\r\n    'use strict';\r\n    const\r\n        minFilmsClassicViewer = 3,\r\n        maxFilmsClassicViewer = 7;\r\n\r\n    let personalMovieDB = {\r\n        count: 0,\r\n        movies: {},\r\n        actors: {},\r\n        genres: [],\r\n        privat: false,\r\n\r\n        showMovieDB() {\r\n            if (!this.privat) console.log(this);\r\n            return;\r\n        },\r\n\r\n        toggleVisibleMyDB() {\r\n            this.privat = !this.privat;\r\n        },\r\n\r\n        writeMovieScores() {\r\n            const maxFilmNameLength = 50;\r\n            let nextFilm = this.count,\r\n                film = \"\",\r\n                score = \"\";\r\n\r\n            while (nextFilm) {\r\n                film = getNonEmptyAnswer('Название следующего из последних просмотренных фильмов?', maxFilmNameLength);\r\n                score = getNumberAnswer('На сколько оцените его?', 3);\r\n                this.movies[film] = score;\r\n                nextFilm--;\r\n            }\r\n            return;\r\n        },\r\n\r\n        writeGenres() {\r\n            for (let i = 0; i < 3; i++) {\r\n                this.genres[i] = getNonEmptyAnswer(`Ваш любимый жанр на ${i+1} месте?`, 24);\r\n            }\r\n            return;\r\n        }\r\n\r\n    };\r\n\r\n    let numberOfFilms = getNumberAnswer(\"Сколько фильмов Вы уже посмотрели?\", 0);\r\n    if (numberOfFilms === 0) {\r\n        alert(`Ваш ответ: ${numberOfFilms} \\n Вы не можете участвовать в оценке фильмов!`);\r\n        return false;\r\n    } else {\r\n        if (numberOfFilms < minFilmsClassicViewer) alert(\"Просмотрено довольно мало фильмов.\");\r\n        else if (numberOfFilms <= maxFilmsClassicViewer) alert(\"Вы классический зритель.\");\r\n        else alert(\"Вы киноман!\");\r\n        personalMovieDB.count = numberOfFilms;\r\n        return personalMovieDB;\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction getNonEmptyAnswer(question, maxAnswerLength) {\r\n    'use strict';\r\n    let answer = \"\";\r\n    do {\r\n        answer = prompt(question, '');\r\n        if (typeof answer === \"string\") answer = normalizationOfSpaces(answer);\r\n    } while (!answer || answer.length > maxAnswerLength);\r\n    return answer;\r\n}\r\n\r\nfunction getNumberAnswer(question, defaultNumber) {\r\n    'use strict';\r\n    let answer = 0;\r\n    do {\r\n        answer = +prompt(question, defaultNumber);\r\n    } while (answer == \"\" || answer == null || isNaN(answer));\r\n    return answer;\r\n}\r\n\r\nfunction normalizationOfSpaces(str) {\r\n    'use strict';\r\n    let sourceStr = str.trim(),\r\n        destStr = \"\",\r\n        nextChar = \"\",\r\n        simpleSpaceSaved = false;\r\n\r\n    if (sourceStr.length) {\r\n        for (let i = 0; i < sourceStr.length; i++) {\r\n            nextChar = sourceStr[i];\r\n            if (nextChar === \" \") {\r\n                if (simpleSpaceSaved) continue;\r\n                else simpleSpaceSaved = true;\r\n            } else if (simpleSpaceSaved) simpleSpaceSaved = false;\r\n            destStr = destStr + nextChar;\r\n        }\r\n        return destStr;\r\n    } else return sourceStr;\r\n}"]}